<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Ef|pGJ~b{fv!ss#}!yES">gameEventStr</variable><variable id="+E^w).|bWDNCQ,%Sals1">gameResult</variable></variables><block type="pxt-on-start" id="4UY~u#osg9$Kdo%G,,a:" x="-461" y="-40"><statement name="HANDLER"><block type="radio_set_group" id="S=rYsL=AtMk=L0HMYS4W"><value name="ID"><shadow type="math_number_minmax" id="![|:llu*/ZFxv?.=X5EW"><mutation min="0" max="255" label="Number" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="device_set_analog_pin" id="DDC`qsK_Ij|hz?m%RRU`"><field name="name">AnalogPin.P1</field><value name="value"><shadow type="math_number_minmax" id="vl?]}CKz8Hr;IV77C;~("><mutation min="0" max="1023" label="Number" precision="0"></mutation><field name="SLIDER">1023</field></shadow></value></block></next></block></statement></block><block type="radio_on_string_drag" id="!qo*[UM.zv[:vq+RNJ0v" x="0" y="0"><value name="HANDLER_DRAG_PARAM_receivedString"><shadow type="argument_reporter_string" id="nJitGA}`l7jm^vUe7[P)"><field name="VALUE">gameEventStr</field></shadow></value><statement name="HANDLER"><block type="controls_if" id="-#5/*.GmY$mrPtbO@`EU"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="string_includes" id="s8=3jpvLA?m}0jFf?lMa"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="d]y56A[%eP#p!hz8:JcT"><field name="VAR" id="Ef|pGJ~b{fv!ss#}!yES">gameEventStr</field></block></value><value name="searchValue"><block type="text_join" id="A}5K{o`w|0XsI|w!/4lH"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT">foo</field></shadow><block type="control_device_name" id="i=`-$~59Zr3ergKy_Stk"></block></value><value name="ADD1"><shadow type="text" id="bUxR$qnS/n{DY(ktHqHB"><field name="TEXT">_</field></shadow></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="tpcdT(,)`z6U@*$+wy9e"><mutation elseif="1" else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="qiHSd/M*Un.pY])/7/Em"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="~ykigg.]gx0/9|qD`0;6"><mutation name="extractGameEventStatus" functionid="0~#}{N3W|z}{G(wq;pW?"><arg name="gameEventStr" id="04iqwx9e8b4iudc07d35s7" type="string"></arg></mutation><value name="04iqwx9e8b4iudc07d35s7"><shadow type="text"><field name="TEXT">abc</field></shadow><block type="variables_get" id="t^r)$+D2~xUl7cjX1#?F"><field name="VAR" id="Ef|pGJ~b{fv!ss#}!yES">gameEventStr</field></block></value></block></value><value name="B"><shadow type="math_number" id="{mQDErRZi6Bhk|_aYsHF"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="7dtc^JY{Av?7wQdL;%8v"><field name="VAR" id="+E^w).|bWDNCQ,%Sals1">gameResult</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="G{fQ.dyLYXSimv{e6.~E"><field name="TEXT">win</field></block></value></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="*@+N%Kpw]%7(#)SlOVm="><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="@_~i#RC!3x!naIig)yp-"><mutation name="extractGameEventStatus" functionid="0~#}{N3W|z}{G(wq;pW?"><arg name="gameEventStr" id="04iqwx9e8b4iudc07d35s7" type="string"></arg></mutation><value name="04iqwx9e8b4iudc07d35s7"><shadow type="text"><field name="TEXT">abc</field></shadow><block type="variables_get" id="d{^n-I|XS~X.1|v?*_=]"><field name="VAR" id="Ef|pGJ~b{fv!ss#}!yES">gameEventStr</field></block></value></block></value><value name="B"><shadow type="math_number" id=")~e-?*xafBD*3-+|It7S"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="/xL{Fd-n60^KPNKwJ.Gd"><field name="VAR" id="+E^w).|bWDNCQ,%Sals1">gameResult</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="-1X%MH2(.k;4W=kw5;v4"><field name="TEXT">lose</field></block></value></block></statement></block></statement></block></statement></block><block type="device_forever" id="}ywD7=[}Wg$6cdWrr]Ah" x="2102" y="10"><statement name="HANDLER"><block type="device_while" id="ySuX~!sR(E0XaJP_g*S#"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="$`uQ4((]/A!oKRVFu1.@"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="8%*}#pw2{6TL3q$a|WTT"><field name="VAR" id="+E^w).|bWDNCQ,%Sals1">gameResult</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="DJR4cL!9f,DRHe_x7R#}"><field name="TEXT">win</field></block></value></block></value><statement name="DO"><block type="basic_show_icon" id="2dL*CB;Q+3)p_~@q_FZv"><field name="i">IconNames.Yes</field></block></statement><next><block type="device_while" id="JcRt.{}U*gc_M$RO2M~N"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="mPQtjv/|}543XTdFdr.b"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="]|ev4r0KKqhyzbSJlF^@"><field name="VAR" id="+E^w).|bWDNCQ,%Sals1">gameResult</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="j[#!/l028H]6Sc4}bfh^"><field name="TEXT">lose</field></block></value></block></value><statement name="DO"><block type="basic_show_icon" id=":4q_7SuwKR,X^[FE=-0+"><field name="i">IconNames.No</field></block></statement><next><block type="radio_datagram_send_value" id="jRY=OGRzW_Qq~E|Mv}2P"><value name="name"><block type="control_device_name" id=".yX_n,7F+*N.V}J_(jR0"></block></value><value name="value"><block type="function_call_output" id="C6dp@rCSrp8fPSA|JmIY"><mutation name="getLocation" functionid="[T]yo97(Q.i5D5Ki/:55"></mutation></block></value><next><block type="device_pause" id="U(t:#w.5;_P4H%P1rG;*"><value name="pause"><shadow type="timePicker" id="P?jT2If[~/13nfNIT_60"><field name="ms">500</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="G*Sd+Cj8L-CgB`8aT`g/" x="-445" y="544"><mutation name="extractGameEventStatus" functionid="0~#}{N3W|z}{G(wq;pW?"><arg name="gameEventStr" id="04iqwx9e8b4iudc07d35s7" type="string"></arg></mutation><field name="function_name">extractGameEventStatus</field><statement name="STACK"><block type="function_return" id="PGa2{kP72TX-MTv@uQgp"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_parsefloat" id="MS#37n!0n=}VITVzJBXo"><value name="text"><block type="lists_index_get" id="N7L.cdMv-*?v5a+KvXD%"><value name="LIST"><block type="string_split" id="rkCbIb:,PCXY~FEArN4`"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="j882^9wH#l;~40RqTg5-"><field name="VALUE">gameEventStr</field></block></value><value name="separator"><shadow type="text" id="a!+$YCY}${anL|I#~Yhy"><field name="TEXT">_</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="M[agN3YR2(~a#-`qq00o"><field name="NUM">1</field></shadow></value></block></value></block></value></block></statement></block><block type="device_button_event" id="5,~1jSe=Jwtfpn61VlHQ" x="386" y="569"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="serial_writestring" id="/,,CPBL44I1fEJs|sybl"><value name="text"><block type="text_join" id="|jwL}~L$O#53?tsXsfN]"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT">foo</field></shadow><block type="control_device_name" id=".dCUytnT{*}YTbRYMqUK"></block></value><value name="ADD1"><shadow type="text" id="82gO=BK8@kewk_zr$8%W"><field name="TEXT">_</field></shadow></value><value name="ADD2"><shadow type="text" id="0J*c80{,!,qhsU=N_!es"><field name="TEXT">0</field></shadow></value></block></value><next><block type="radio_datagram_send_string" id="xh4*LB#y@7`18I!=z0Jp"><value name="msg"><block type="text_join" id="?7m6YDV]wtY}(tR-c^Qz"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT">foo</field></shadow><block type="control_device_name" id="%#X6FhLoxFCPQH8zw4;c"></block></value><value name="ADD1"><shadow type="text" id="3j~(#`.{`u$(|$Y0{NA3"><field name="TEXT">_</field></shadow></value><value name="ADD2"><shadow type="text" id="Pf!eP0Sn=3A*h;pededV"><field name="TEXT">0</field></shadow></value></block></value></block></next></block></statement></block><block type="function_definition" id="a/rn;)W*{TlzMkUizNyg" x="1766" y="531"><mutation name="getLocation" functionid="[T]yo97(Q.i5D5Ki/:55"></mutation><field name="function_name">getLocation</field><comment pinned="false" h="80" w="160">挿されている場所を0-4で返す
刺さっていない場合は-1</comment><statement name="STACK"><block type="serial_writevalue" id="r}V*F%|NHlHYBdswEA.;"><value name="name"><block type="control_device_name" id="xUAG%vj*vnGXYg?jvI*p"></block></value><value name="value"><block type="math_js_round" id="5K)Il0I0^(@?NpgSaUNW"><field name="OP">ceil</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_map" id="]Rpeqh=`^U:[d2(vo4U:"><value name="value"><block type="device_get_analog_pin" id="rF)x;@j0)h4,^8GXON@8"><field name="name">AnalogPin.P2</field></block></value><value name="fromLow"><shadow type="math_number" id="ZlYfv#_,:Z+g!J2I8|MH"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="x$IlMMk-EIP)8WP:0/8,"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number" id="{hpE/^[!CiSX4p5y4l%2"><field name="NUM">-1</field></shadow></value><value name="toHigh"><shadow type="math_number" id="Ox_Z_~n_g@5}T.!g=^l("><field name="NUM">4</field></shadow></value></block></value></block></value><next><block type="function_return" id="3`E*d}M*oOi160t!(Mn]"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="rsNcS+yb^uc*uA~Wx$6D"><field name="OP">ceil</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_map" id="%M/~9+/-kVEN2RE+AN=a"><value name="value"><block type="device_get_analog_pin" id="p=jjl(TIh2/DWWWaJ#,0"><field name="name">AnalogPin.P2</field></block></value><value name="fromLow"><shadow type="math_number" id="={M2nmXFt/E!SK9+oQ;J"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="c!b=MI:6R{Mf_Z9_g!yJ"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number" id="%@oy#=:_RSYq}D-A$c`W"><field name="NUM">-1</field></shadow></value><value name="toHigh"><shadow type="math_number" id="HhQc)b2[3fmS-6N^|-tz"><field name="NUM">4</field></shadow></value></block></value></block></value></block></next></block></statement></block><block type="device_button_event" id="L(NPdxD?[lI)*2C.cPWW" x="406" y="773"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="serial_writestring" id="}ED`0z`mDfmmss:ER)#j"><value name="text"><block type="text_join" id="8i2G^@UTSVx;@x7@)a$t"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT">foo</field></shadow><block type="control_device_name" id="%g)r4AMx.z7:~#uO1^ue"></block></value><value name="ADD1"><shadow type="text" id="@p_HO0ppqHDDPICNkYSJ"><field name="TEXT">_</field></shadow></value><value name="ADD2"><shadow type="text" id=";wbRJ?@,D0];5=,:=h$E"><field name="TEXT">1</field></shadow></value></block></value><next><block type="radio_datagram_send_string" id="GSP`;`@xruQ(Uw%s_W=`"><value name="msg"><block type="text_join" id="T#DyBKK7dC`=[LzBA=jK"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT">foo</field></shadow><block type="control_device_name" id="NI_poBIa8v.@{1|)#i$$"></block></value><value name="ADD1"><shadow type="text" id="`^4WdcGOTdoEzdY84(nv"><field name="TEXT">_</field></shadow></value><value name="ADD2"><shadow type="text" id="9h9N[-dhforQ%j6Pb$?}"><field name="TEXT">1</field></shadow></value></block></value></block></next></block></statement></block></xml>